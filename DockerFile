FROM openjdk:8-jdk

RUN git clone https://github.com/michaeljneelysd/CT414-Assignment-1-Server.git
COPY ./ /usr/src/
WORKDIR /usr/src/src/ie/nuigalway/ct414/assignment1/neelydaly/
EXPOSE 1099
RUN rmiregistry &
RUN javac common/*.java
RUN jar cvf ct414.jar common/*.class
RUN javac -cp ./ct414.jar server/*.java
CMD ["java", "-classpath", "./ct414.jar", "server/ExamEngine"]